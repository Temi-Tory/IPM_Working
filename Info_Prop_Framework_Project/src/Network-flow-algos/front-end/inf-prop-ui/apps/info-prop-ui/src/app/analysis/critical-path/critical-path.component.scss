.critical-path-container {
  padding: 24px;
  max-width: 1400px;
  margin: 0 auto;

  // Header Section
  .analysis-header {
    margin-bottom: 32px;

    .header-content {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 24px;

      .header-info {
        h1 {
          font-size: 2rem;
          font-weight: 300;
          margin: 0 0 8px 0;
          color: #FF9800; // Orange theme primary
        }

        .network-name {
          font-size: 1.1rem;
          color: #666;
          margin: 0;
        }
      }

      .header-actions {
        display: flex;
        align-items: center;
        gap: 16px;
      }
    }
  }

  // Loading and Error States
  .loading-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 64px;
    text-align: center;

    mat-spinner {
      margin-bottom: 16px;
    }

    p {
      color: #666;
      font-size: 1.1rem;
    }
  }

  .error-card {
    margin: 32px 0;

    .error-content {
      display: flex;
      align-items: flex-start;
      gap: 16px;

      .error-icon {
        color: #F44336;
        font-size: 32px;
        width: 32px;
        height: 32px;
      }

      h3 {
        color: #F44336;
        margin: 0 0 8px 0;
      }

      p {
        margin: 0;
        color: #666;
      }
    }
  }

  // Visual Mode
  .visual-mode {
    .visual-content {
      display: grid;
      grid-template-columns: 1fr 400px;
      gap: 24px;
      align-items: start;

      @media (max-width: 1200px) {
        grid-template-columns: 1fr;
      }
    }

    .graph-container {
      min-height: 600px;

      .graph-placeholder {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        min-height: 500px;
        background: #f8f9fa;
        border-radius: 8px;
        text-align: center;

        .graph-icon {
          font-size: 64px;
          width: 64px;
          height: 64px;
          color: #FF9800;
          margin-bottom: 16px;
        }

        h3 {
          color: #333;
          margin: 0 0 8px 0;
        }

        p {
          color: #666;
          margin: 0 0 16px 0;
        }

        .graph-stats {
          display: flex;
          gap: 16px;
          flex-wrap: wrap;
          justify-content: center;

          span {
            padding: 4px 8px;
            background: rgba(255, 152, 0, 0.1);
            border-radius: 4px;
            font-size: 0.9rem;
            color: #FF9800;

            &.time-stat {
              background: rgba(255, 152, 0, 0.15);
              color: #FF9800;
            }

            &.cost-stat {
              background: rgba(255, 193, 7, 0.15);
              color: #FFC107;
            }

            &.path-length {
              background: rgba(158, 158, 158, 0.15);
              color: #666;
            }
          }
        }
      }
    }

    .controls-panel {
      .control-section {
        margin-bottom: 24px;

        h4 {
          font-size: 1.1rem;
          margin: 0 0 12px 0;
          color: #333;
          font-weight: 500;
        }

        .highlight-buttons {
          display: flex;
          flex-direction: column;
          gap: 8px;

          button {
            justify-content: flex-start;
            text-align: left;

            &.highlighted {
              background: rgba(255, 152, 0, 0.1);
              color: #FF9800;
              border-color: #FF9800;
            }

            &.time-path-button.highlighted {
              background: rgba(255, 152, 0, 0.1);
              color: #FF9800;
              border-color: #FF9800;
            }

            &.cost-path-button.highlighted {
              background: rgba(255, 193, 7, 0.1);
              color: #FFC107;
              border-color: #FFC107;
            }

            &.both-paths-button.highlighted {
              background: rgba(255, 87, 34, 0.1);
              color: #FF5722;
              border-color: #FF5722;
            }

            &.optimization-button.highlighted {
              background: rgba(76, 175, 80, 0.1);
              color: #4CAF50;
              border-color: #4CAF50;
            }
          }
        }

        .path-info {
          display: flex;
          flex-direction: column;
          gap: 8px;

          .info-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #eee;

            .info-label {
              font-weight: 500;
              color: #666;
            }

            .info-value {
              font-weight: 500;
              color: #333;

              &.nodes-list {
                max-width: 200px;
                text-align: right;
                word-wrap: break-word;
                font-size: 0.9rem;
              }
            }
          }
        }

        .path-analysis {
          display: flex;
          flex-direction: column;
          gap: 16px;

          .analysis-metric {
            padding: 16px;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #FF9800;

            .metric-header {
              display: flex;
              align-items: center;
              gap: 8px;
              margin-bottom: 8px;

              mat-icon {
                color: #FF9800;
              }

              span {
                font-weight: 500;
                color: #333;
              }
            }

            .metric-value {
              font-size: 1.5rem;
              font-weight: 600;
              color: #FF9800;
              margin-bottom: 4px;
            }

            .metric-details {
              display: flex;
              flex-direction: column;
              gap: 4px;

              span {
                font-size: 0.9rem;
                color: #666;
              }
            }
          }
        }

        .critical-nodes {
          display: flex;
          flex-direction: column;
          gap: 8px;

          .critical-node-item {
            padding: 12px;
            background: #f8f9fa;
            border-radius: 8px;
            border: 1px solid #eee;

            .node-header {
              display: flex;
              justify-content: space-between;
              align-items: center;
              margin-bottom: 8px;

              .node-id {
                font-weight: 500;
                color: #333;
              }

              .criticality-chip {
                font-size: 0.8rem;
                color: white;
              }
            }

            .node-details {
              display: flex;
              gap: 16px;
              margin-bottom: 8px;

              span {
                font-size: 0.9rem;
                color: #666;

                &.time-value {
                  color: #FF9800;
                }

                &.cost-value {
                  color: #FFC107;
                }
              }
            }

            .criticality-bar {
              width: 100%;
              height: 4px;
              background: #eee;
              border-radius: 2px;
              overflow: hidden;

              .criticality-fill {
                height: 100%;
                transition: width 0.3s ease;
              }
            }
          }

          .no-critical-nodes {
            text-align: center;
            padding: 24px;
            color: #666;
          }
        }
      }
    }
  }

  // Dashboard Mode
  .dashboard-mode {
    .dashboard-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 24px;
      align-items: start;
    }

    .stat-card {
      .stat-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 16px;

        .stat-item {
          text-align: center;

          .stat-value {
            font-size: 2rem;
            font-weight: 600;
            color: #FF9800;
            display: block;
          }

          .stat-label {
            font-size: 0.9rem;
            color: #666;
            margin-top: 4px;
          }
        }
      }
    }

    .path-analysis-card {
      .path-overview {
        text-align: center;

        .gauge-container {
          .gauge-category {
            font-size: 2rem;
            font-weight: 600;
            margin-bottom: 8px;
          }

          .gauge-type {
            font-size: 1.2rem;
            color: #666;
            margin-bottom: 16px;
          }

          .gauge-metrics {
            display: flex;
            flex-direction: column;
            gap: 8px;

            span {
              font-size: 1rem;
              color: #666;

              &.time-efficiency {
                color: #FF9800;
              }

              &.cost-efficiency {
                color: #FFC107;
              }
            }
          }
        }
      }
    }

    .time-analysis-card,
    .cost-analysis-card {
      .time-analysis,
      .cost-analysis {
        .time-summary,
        .cost-summary {
          display: grid;
          grid-template-columns: repeat(3, 1fr);
          gap: 16px;
          margin-bottom: 24px;

          .summary-stat {
            text-align: center;

            .summary-value {
              font-size: 1.5rem;
              font-weight: 600;
              color: #FF9800;
            }

            .summary-label {
              font-size: 0.9rem;
              color: #666;
              margin-top: 4px;
            }
          }
        }

        .time-nodes,
        .cost-nodes {
          h5 {
            margin: 0 0 12px 0;
            color: #333;
          }

          .node-list {
            display: flex;
            flex-direction: column;
            gap: 8px;

            .time-node-item,
            .cost-node-item {
              display: flex;
              align-items: center;
              gap: 12px;
              padding: 8px;
              background: #f8f9fa;
              border-radius: 4px;

              .time-icon,
              .cost-icon {
                color: #FF9800;
              }

              .node-name {
                flex: 1;
                font-weight: 500;
              }

              .node-value {
                font-weight: 600;
                color: #FF9800;
              }
            }
          }
        }
      }
    }

    .optimization-card {
      .optimization-opportunities {
        .opportunities-summary {
          display: flex;
          flex-direction: column;
          gap: 8px;
          margin-bottom: 16px;

          .summary-item {
            display: flex;
            justify-content: space-between;
            padding: 4px 0;

            .summary-label {
              color: #666;
            }

            .summary-value {
              font-weight: 600;
              color: #333;
            }
          }
        }

        .top-opportunities {
          h5 {
            margin: 0 0 12px 0;
            color: #333;
          }

          .opportunity-row {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 8px;
            background: #f8f9fa;
            border-radius: 4px;
            margin-bottom: 8px;

            .opportunity-info {
              display: flex;
              align-items: center;
              gap: 8px;
              min-width: 120px;

              .opportunity-node {
                font-weight: 500;
              }

              .opportunity-type {
                font-size: 0.8rem;

                &.time-type {
                  background: #FF9800;
                  color: white;
                }

                &.cost-type {
                  background: #FFC107;
                  color: white;
                }
              }
            }

            .opportunity-impact-bar {
              flex: 1;
              height: 8px;
              background: #eee;
              border-radius: 4px;
              overflow: hidden;

              .impact-progress {
                height: 100%;
                transition: width 0.3s ease;

                &.time-impact {
                  background: #FF9800;
                }

                &.cost-impact {
                  background: #FFC107;
                }
              }
            }

            .opportunity-value {
              font-weight: 600;
              color: #333;
              min-width: 50px;
              text-align: right;
            }
          }

          .no-opportunities {
            text-align: center;
            padding: 24px;
            color: #666;
          }
        }
      }
    }

    .properties-card {
      .properties-list {
        display: flex;
        flex-direction: column;
        gap: 8px;

        .property-item {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 8px 0;
          border-bottom: 1px solid #eee;

          .property-label {
            font-weight: 500;
            color: #666;
          }

          .property-value {
            font-weight: 500;
            color: #333;

            &.warning {
              color: #F44336;
            }
          }
        }
      }
    }
  }

  // Responsive Design
  @media (max-width: 768px) {
    padding: 16px;

    .analysis-header {
      .header-content {
        flex-direction: column;
        align-items: stretch;
        gap: 16px;

        .header-actions {
          justify-content: flex-end;
        }
      }
    }

    .visual-mode {
      .visual-content {
        grid-template-columns: 1fr;
      }
    }

    .dashboard-mode {
      .dashboard-grid {
        grid-template-columns: 1fr;
      }
    }
  }
}