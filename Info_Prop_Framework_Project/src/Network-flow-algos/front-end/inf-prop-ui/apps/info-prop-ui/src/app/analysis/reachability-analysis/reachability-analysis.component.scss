// Reachability Analysis Component Styles
// Theme: Teal/Cyan for reachability visualization

.reachability-analysis-container {
  padding: 24px;
  background-color: var(--surface-background);
  min-height: calc(100vh - 64px);
}

.analysis-header {
  margin-bottom: 24px;
  
  .header-content {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    
    .header-info {
      h1 {
        margin: 0 0 8px 0;
        font-size: 28px;
        font-weight: 600;
        color: var(--on-surface);
      }
      
      .network-name {
        margin: 0;
        font-size: 16px;
        color: var(--on-surface-variant);
        font-weight: 500;
      }
    }
    
    .header-actions {
      display: flex;
      gap: 16px;
      align-items: center;
    }
  }
}

.loading-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 80px 20px;
  
  mat-spinner {
    margin-bottom: 16px;
  }
  
  p {
    color: var(--on-surface-variant);
    font-size: 14px;
  }
}

.error-card {
  background-color: var(--error-container);
  color: var(--on-error-container);
  
  .error-content {
    display: flex;
    align-items: center;
    gap: 16px;
    
    .error-icon {
      font-size: 32px;
      width: 32px;
      height: 32px;
      color: var(--error);
    }
    
    h3 {
      margin: 0 0 8px 0;
      color: var(--on-error-container);
    }
    
    p {
      margin: 0;
      color: var(--on-error-container);
      opacity: 0.8;
    }
  }
}

// Visual Mode Styles
.visual-mode {
  .visual-content {
    display: grid;
    grid-template-columns: 1fr 320px;
    gap: 24px;
    height: calc(100vh - 200px);
    
    .graph-container {
      display: flex;
      flex-direction: column;
      background-color: var(--surface-container-low);
      
      mat-card-content {
        flex: 1;
        display: flex;
        align-items: center;
        justify-content: center;
        
        .graph-placeholder {
          text-align: center;
          color: var(--on-surface-variant);
          
          .graph-icon {
            font-size: 64px;
            width: 64px;
            height: 64px;
            margin-bottom: 16px;
            opacity: 0.6;
            color: #009688; // Primary teal
          }
          
          h3 {
            margin: 0 0 8px 0;
            font-weight: 500;
            color: #009688;
          }
          
          p {
            margin: 0;
            font-size: 14px;
            opacity: 0.8;
          }
          
          .graph-stats {
            margin-top: 16px;
            padding: 12px 16px;
            background-color: #E0F2F1; // Light teal background
            border-radius: 8px;
            color: #00695C; // Dark teal
            font-weight: 500;
            
            .stat-item {
              color: #009688;
              font-weight: 600;
            }
            
            .stat-separator {
              margin: 0 8px;
              color: #80CBC4;
            }
          }
        }
      }
    }
    
    .controls-panel {
      background-color: var(--surface-container);
      
      .control-section {
        margin-bottom: 24px;
        
        &:last-child {
          margin-bottom: 0;
        }
        
        h4 {
          margin: 0 0 12px 0;
          font-size: 14px;
          font-weight: 600;
          color: var(--on-surface);
        }
        
        .path-selectors {
          display: flex;
          flex-direction: column;
          gap: 12px;
          margin-bottom: 16px;
          
          .node-selector {
            width: 100%;
          }
        }
        
        .path-info {
          padding: 16px;
          border-radius: 8px;
          background-color: var(--surface-container-high);
          
          .path-result {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 12px;
            
            &.reachable {
              color: #009688; // Primary teal
              
              .mat-icon {
                color: #4CAF50; // Success green
              }
              
              .path-distance {
                margin-left: auto;
                font-weight: 600;
                color: #00695C; // Dark teal
                background-color: #E0F2F1;
                padding: 4px 8px;
                border-radius: 4px;
                font-size: 12px;
              }
            }
            
            &.unreachable {
              color: #F44336; // Error red
              
              .mat-icon {
                color: #F44336;
              }
            }
          }
          
          .path-display {
            display: flex;
            align-items: center;
            gap: 8px;
            flex-wrap: wrap;
            
            strong {
              color: var(--on-surface);
              margin-right: 8px;
            }
            
            .path-node {
              background-color: #00BCD4; // Secondary cyan
              color: white;
              padding: 4px 8px;
              border-radius: 12px;
              font-size: 12px;
              font-weight: 600;
            }
            
            .path-arrow {
              font-size: 16px;
              color: #009688; // Primary teal
            }
          }
        }
        
        .quick-analysis-buttons {
          display: flex;
          flex-direction: column;
          gap: 8px;
          
          .reachability-button {
            justify-content: flex-start;
            color: #009688;
            border-color: #009688;
            
            &:hover {
              background-color: #E0F2F1;
            }
          }
        }
        
        .display-options {
          .mat-slide-toggle {
            --mdc-switch-selected-track-color: #009688;
            --mdc-switch-selected-handle-color: #009688;
          }
        }
      }
    }
  }
}

// Dashboard Mode Styles
.dashboard-mode {
  .dashboard-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    gap: 24px;
    
    .stat-card {
      background-color: var(--surface-container);
      border-left: 4px solid #009688; // Teal accent
      
      .stat-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 24px;
        
        .stat-item {
          text-align: center;
          
          .stat-value {
            font-size: 32px;
            font-weight: 700;
            color: #009688; // Primary teal
            margin-bottom: 4px;
          }
          
          .stat-label {
            font-size: 12px;
            font-weight: 500;
            color: var(--on-surface-variant);
            text-transform: uppercase;
            letter-spacing: 0.5px;
          }
        }
      }
    }
    
    .distance-card {
      background-color: var(--surface-container);
      border-left: 4px solid #00BCD4; // Cyan accent
      
      .distance-stats {
        display: flex;
        flex-direction: column;
        gap: 16px;
        
        .distance-stat {
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: 12px;
          border-radius: 8px;
          background-color: var(--surface-container-high);
          
          .distance-info {
            display: flex;
            align-items: center;
            gap: 8px;
            
            .mat-icon {
              font-size: 20px;
              width: 20px;
              height: 20px;
              color: #00BCD4; // Secondary cyan
            }
            
            .distance-name {
              font-weight: 500;
            }
          }
          
          .distance-value {
            font-size: 18px;
            font-weight: 600;
            color: #009688; // Primary teal
          }
        }
      }
    }
    
    .matrix-card {
      background-color: var(--surface-container);
      border-left: 4px solid #4DB6AC; // Medium teal
      
      .matrix-container {
        max-height: 400px;
        overflow: auto;
        
        .matrix-grid {
          display: grid;
          gap: 1px;
          background-color: var(--outline-variant);
          border-radius: 4px;
          overflow: hidden;
          font-family: 'Roboto Mono', monospace;
          
          .matrix-cell {
            background-color: var(--surface-container-high);
            padding: 8px;
            text-align: center;
            font-size: 12px;
            min-width: 32px;
            min-height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            
            &.header {
              background-color: #009688; // Primary teal header
              color: white;
              font-weight: 600;
            }
            
            &.reachable {
              background-color: #E0F2F1; // Light teal for reachable
              color: #00695C; // Dark teal
              font-weight: 600;
            }
            
            &.self {
              background-color: #B2DFDB; // Medium teal for self
              color: #004D40; // Darkest teal
            }
          }
        }
        
        .matrix-large-info {
          text-align: center;
          padding: 32px;
          color: var(--on-surface-variant);
          
          p {
            margin: 8px 0;
            
            &:first-child {
              font-weight: 500;
              color: #009688;
            }
          }
        }
      }
    }
    
    .components-card {
      background-color: var(--surface-container);
      border-left: 4px solid #26A69A; // Another teal shade
      
      .components-list {
        display: flex;
        flex-direction: column;
        gap: 16px;
        
        .component-item {
          padding: 16px;
          border-radius: 8px;
          background-color: var(--surface-container-high);
          
          .component-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
            
            .component-label {
              font-weight: 600;
              color: #009688; // Primary teal
            }
            
            .component-size {
              font-size: 12px;
              color: var(--on-surface-variant);
              background-color: #E0F2F1;
              padding: 4px 8px;
              border-radius: 12px;
            }
          }
          
          .component-nodes {
            .node-chip {
              background-color: #00BCD4; // Secondary cyan
              color: white;
              padding: 2px 8px;
              border-radius: 12px;
              font-size: 11px;
              font-weight: 500;
              font-family: 'Roboto Mono', monospace;
            }
            
            .node-separator {
              color: var(--on-surface-variant);
              margin: 0 4px;
            }
          }
        }
      }
    }
    
    .properties-card {
      background-color: var(--surface-container);
      border-left: 4px solid #80CBC4; // Light teal accent
      
      .properties-list {
        display: flex;
        flex-direction: column;
        gap: 12px;
        
        .property-item {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 8px 0;
          border-bottom: 1px solid var(--outline-variant);
          
          &:last-child {
            border-bottom: none;
          }
          
          .property-label {
            font-weight: 500;
            color: var(--on-surface-variant);
          }
          
          .property-value {
            font-weight: 600;
            color: #009688; // Primary teal
          }
        }
      }
    }
  }
}

// Auto-computed grid for matrix based on size
.matrix-grid {
  &[data-size="1"] { grid-template-columns: repeat(2, 1fr); }
  &[data-size="2"] { grid-template-columns: repeat(3, 1fr); }
  &[data-size="3"] { grid-template-columns: repeat(4, 1fr); }
  &[data-size="4"] { grid-template-columns: repeat(5, 1fr); }
  &[data-size="5"] { grid-template-columns: repeat(6, 1fr); }
  &[data-size="6"] { grid-template-columns: repeat(7, 1fr); }
  &[data-size="7"] { grid-template-columns: repeat(8, 1fr); }
  &[data-size="8"] { grid-template-columns: repeat(9, 1fr); }
  &[data-size="9"] { grid-template-columns: repeat(10, 1fr); }
  &[data-size="10"] { grid-template-columns: repeat(11, 1fr); }
  &[data-size="15"] { grid-template-columns: repeat(16, minmax(24px, 1fr)); }
  &[data-size="20"] { grid-template-columns: repeat(21, minmax(20px, 1fr)); }
}

// Responsive Design
@media (max-width: 768px) {
  .reachability-analysis-container {
    padding: 16px;
  }
  
  .analysis-header .header-content {
    flex-direction: column;
    align-items: flex-start;
    gap: 16px;
  }
  
  .visual-mode .visual-content {
    grid-template-columns: 1fr;
    height: auto;
    
    .controls-panel {
      order: -1;
    }
  }
  
  .dashboard-mode .dashboard-grid {
    grid-template-columns: 1fr;
  }
  
  .matrix-grid {
    grid-template-columns: repeat(auto-fit, minmax(28px, 1fr)) !important;
    
    .matrix-cell {
      min-width: 24px !important;
      min-height: 24px !important;
      padding: 4px !important;
      font-size: 10px !important;
    }
  }
}

@media (max-width: 480px) {
  .visual-mode .visual-content .controls-panel .path-selectors {
    .node-selector {
      font-size: 14px;
    }
  }
  
  .dashboard-mode .dashboard-grid {
    .stat-grid {
      grid-template-columns: 1fr;
      gap: 16px;
    }
  }
}

// Color scheme helper classes for dynamic theming
.reachability-theme {
  --reachability-primary: #009688;
  --reachability-secondary: #00BCD4;
  --reachability-light: #E0F2F1;
  --reachability-medium: #80CBC4;
  --reachability-dark: #00695C;
  --reachability-darkest: #004D40;
}